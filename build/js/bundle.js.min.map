{"version":3,"sources":["app.js"],"names":["pagina","cita","nombre","fecha","hora","servicios","iniciarApp","mostrarServicios","mostrarSeccion","cambiarSeccion","mostrarPaginaSiguiente","mostrarPaginaAnterior","mostrarBotonesPaginacion","mostrarResumen","async","respuesta","fetch","db","json","forEach","servicio","id","precio","nombreServicio","document","createElement","textContent","classList","add","precioServicio","servicioDiv","append","dataset","idServicio","onclick","seleccionarServicio","querySelector","appendChild","error","console","e","elemento","target","tagName","parentElement","contains","remove","seccionAnterior","getElementById","tabAnterior","querySelectorAll","tab","addEventListener","parseInt","paso","paginaAnterior","paginaSiguiente","resumen","Object","values","includes","sinCita"],"mappings":"AAAA,IAAAA,OAAA,EACA,MAAAC,KAAA,CACAC,OAAA,GACAC,MAAA,GACAC,KAAA,GACAC,UAAA,IAOA,SAAAC,aACAC,mBAGAC,iBAGAC,iBAGAC,yBAGAC,wBAGAC,2BAGAC,iBAGAC,eAAAP,mBACA,IACA,MAAAQ,QAAAC,MAAA,kBACAC,QAAAF,EAAAG,QAEAb,UAAAA,GAAAY,EAGAZ,EAAAc,QAAAC,IACA,MAAAC,GAAAA,EAAAnB,OAAAA,EAAAoB,OAAAA,GAAAF,EAGAG,EAAAC,SAAAC,cAAA,KACAF,EAAAG,YAAAxB,EACAqB,EAAAI,UAAAC,IAAA,kBAEA,MAAAC,EAAAL,SAAAC,cAAA,KACAI,EAAAH,YAAA,IAAAJ,EACAO,EAAAF,UAAAC,IAAA,kBAEA,MAAAE,EAAAN,SAAAC,cAAA,OACAK,EAAAC,OAAAR,EAAAM,GACAC,EAAAH,UAAAC,IAAA,YACAE,EAAAE,QAAAC,WAAAZ,EAGAS,EAAAI,QAAAC,oBAGAX,SAAAY,cAAA,sBACAC,YAAAP,KAGA,MAAAQ,GACAC,QAAAD,MAAAA,IAIA,SAAAH,oBAAAK,GAEA,IAAAC,EAIAA,EADA,MAAAD,EAAAE,OAAAC,QACAH,EAAAE,OAAAE,cAEAJ,EAAAE,OAGAD,EAAAd,UAAAkB,SAAA,gBACAJ,EAAAd,UAAAmB,OAAA,gBAEAL,EAAAd,UAAAC,IAAA,gBAKA,SAAApB,iBAGA,MAAAuC,EAAAvB,SAAAY,cAAA,oBACAW,GACAA,EAAApB,UAAAmB,OAAA,mBAGAtB,SAAAwB,eAAA,QAAAhD,QACA2B,UAAAC,IAAA,mBAGA,MAAAqB,EAAAzB,SAAAY,cAAA,uBACAa,GACAA,EAAAtB,UAAAmB,OAAA,UAIAtB,SAAAY,cAAA,eAAApC,YACA2B,UAAAC,IAAA,UAGA,SAAAnB,iBACAe,SAAA0B,iBAAA,gBAEA/B,QAAAgC,IACAA,EAAAC,iBAAA,QAAAZ,IAEAxC,OAAAqD,SAAAb,EAAAE,OAAAV,QAAAsB,MAGA9C,iBACAI,+BAKA,SAAAF,yBACAc,SAAAwB,eAAA,aACAI,iBAAA,QAAA,KACApD,SACAY,6BAIA,SAAAD,wBACAa,SAAAwB,eAAA,YACAI,iBAAA,QAAA,KACApD,SACAY,6BAIA,SAAAA,2BACA,MAAA2C,EAAA/B,SAAAwB,eAAA,YACAQ,EAAAhC,SAAAwB,eAAA,aAEA,IAAAhD,OACAuD,EAAA5B,UAAAC,IAAA,WACA,IAAA5B,QACAwD,EAAA7B,UAAAC,IAAA,WACA2B,EAAA5B,UAAAmB,OAAA,aAEAS,EAAA5B,UAAAmB,OAAA,WACAU,EAAA7B,UAAAmB,OAAA,YAEAtC,iBAGA,SAAAK,iBAEA,MAAAX,OAAAA,EAAAC,MAAAA,EAAAE,UAAAA,EAAAD,KAAAA,GAAAH,KACAwD,EAAAjC,SAAAY,cAAA,sBAGA,GAAAsB,OAAAC,OAAA1D,MAAA2D,SAAA,IAAA,CACA,MAAAC,EAAArC,SAAAC,cAAA,KACAoC,EAAAnC,YAAA,yCACAmC,EAAAlC,UAAAC,IAAA,kBACA6B,EAAA1B,OAAA8B,IAlKArC,SAAA4B,iBAAA,mBAAA,KACA9C","file":"bundle.js","sourcesContent":["let pagina = 1\r\nconst cita = {\r\n  nombre: \"\",\r\n  fecha: \"\",\r\n  hora: \"\",\r\n  servicios: []\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", () => {\r\n  iniciarApp()\r\n})\r\n\r\nfunction iniciarApp() {\r\n  mostrarServicios()\r\n\r\n  // resalta el div actual segun el tab al que se presiona\r\n  mostrarSeccion()\r\n\r\n  // oculta o muestra la seccion segun el tab al que se presiona\r\n  cambiarSeccion()\r\n\r\n  // pagina siguiente\r\n  mostrarPaginaSiguiente()\r\n\r\n  // pagina anterior\r\n  mostrarPaginaAnterior()\r\n\r\n  // comprueba la pagina para mostrar u ocultar la paginacion\r\n  mostrarBotonesPaginacion()\r\n\r\n  // Muestra el resumen de la cita (o un mensaje de error en caso de no pasar la validacion)\r\n  mostrarResumen()\r\n}\r\n\r\nasync function mostrarServicios() {\r\n  try {\r\n    const respuesta = await fetch(\"servicios.json\")\r\n    const db = await respuesta.json()\r\n\r\n    const { servicios } = db\r\n\r\n    // generar html\r\n    servicios.forEach(servicio => {\r\n      const { id, nombre, precio } = servicio\r\n\r\n      // dom scripting\r\n      const nombreServicio = document.createElement(\"P\")\r\n      nombreServicio.textContent = nombre\r\n      nombreServicio.classList.add(\"nombre-sevicio\")\r\n\r\n      const precioServicio = document.createElement(\"P\")\r\n      precioServicio.textContent = `$${precio}`\r\n      precioServicio.classList.add(\"precio-sevicio\")\r\n\r\n      const servicioDiv = document.createElement(\"DIV\")\r\n      servicioDiv.append(nombreServicio, precioServicio)\r\n      servicioDiv.classList.add(\"servicio\")\r\n      servicioDiv.dataset.idServicio = id\r\n\r\n      // seleccionar los servicios\r\n      servicioDiv.onclick = seleccionarServicio\r\n\r\n      // agrego mi div al html\r\n      const listadoServicios = document.querySelector(\".listado-servicios\")\r\n      listadoServicios.appendChild(servicioDiv)\r\n    });\r\n\r\n  } catch (error) {\r\n    console.error(error);\r\n  }\r\n}\r\n\r\nfunction seleccionarServicio(e) {\r\n\r\n  let elemento\r\n\r\n  // forzar que el elemento al cual le de click sea un div\r\n  if (e.target.tagName === \"P\") {\r\n    elemento = e.target.parentElement\r\n  } else {\r\n    elemento = e.target\r\n  }\r\n\r\n  if (elemento.classList.contains(\"seleccionado\")) {\r\n    elemento.classList.remove(\"seleccionado\")\r\n  } else {\r\n    elemento.classList.add(\"seleccionado\")\r\n  }\r\n\r\n}\r\n\r\nfunction mostrarSeccion() {\r\n\r\n  // eliminar la seccion anterior\r\n  const seccionAnterior = document.querySelector(\".mostrar-seccion\")\r\n  if (seccionAnterior) {\r\n    seccionAnterior.classList.remove(\"mostrar-seccion\")\r\n  }\r\n\r\n  const seccion = document.getElementById(`paso-${pagina}`)\r\n  seccion.classList.add(\"mostrar-seccion\")\r\n\r\n  // elimina la clase .actual del tab anterior\r\n  const tabAnterior = document.querySelector(\".tabs button.actual\")\r\n  if (tabAnterior) {\r\n    tabAnterior.classList.remove(\"actual\")\r\n  }\r\n\r\n  // resalta el tab actual\r\n  const tab = document.querySelector(`[data-paso=\"${pagina}\"]`)\r\n  tab.classList.add(\"actual\")\r\n}\r\n\r\nfunction cambiarSeccion() {\r\n  const tabs = document.querySelectorAll(\".tabs button\")\r\n\r\n  tabs.forEach(tab => {\r\n    tab.addEventListener(\"click\", e => {\r\n      // cambio el numero de la pagina\r\n      pagina = parseInt(e.target.dataset.paso)\r\n\r\n      // llamar a la funcion mostrarSeccion\r\n      mostrarSeccion()\r\n      mostrarBotonesPaginacion()\r\n    })\r\n  });\r\n}\r\n\r\nfunction mostrarPaginaSiguiente() {\r\n  const paginaSiguiente = document.getElementById(\"siguiente\")\r\n  paginaSiguiente.addEventListener(\"click\", () => {\r\n    pagina++;\r\n    mostrarBotonesPaginacion()\r\n  })\r\n}\r\n\r\nfunction mostrarPaginaAnterior() {\r\n  const paginaAnterior = document.getElementById(\"anterior\")\r\n  paginaAnterior.addEventListener(\"click\", () => {\r\n    pagina--;\r\n    mostrarBotonesPaginacion()\r\n  })\r\n}\r\n\r\nfunction mostrarBotonesPaginacion() {\r\n  const paginaAnterior = document.getElementById(\"anterior\")\r\n  const paginaSiguiente = document.getElementById(\"siguiente\")\r\n\r\n  if (pagina === 1) {\r\n    paginaAnterior.classList.add(\"ocultar\")\r\n  } else if (pagina === 3) {\r\n    paginaSiguiente.classList.add(\"ocultar\")\r\n    paginaAnterior.classList.remove(\"ocultar\")\r\n  } else {\r\n    paginaAnterior.classList.remove(\"ocultar\")\r\n    paginaSiguiente.classList.remove(\"ocultar\")\r\n  }\r\n  mostrarSeccion() // cambia la seccion que se muestra por la de la pagina\r\n}\r\n\r\nfunction mostrarResumen() {\r\n  // destructuring\r\n  const { nombre, fecha, servicios, hora } = cita\r\n  const resumen = document.querySelector(\".contenido-resumen\")\r\n\r\n  // validacion de objeto\r\n  if (Object.values(cita).includes(\"\")) {\r\n    const sinCita = document.createElement(\"P\")\r\n    sinCita.textContent = \"Faltan servicios, fecha, hora o nombre\"\r\n    sinCita.classList.add(\"invalidar-cita\")\r\n    resumen.append(sinCita)\r\n  }\r\n\r\n  // TODO: continuar video 16\r\n}"]}